  \begin{tikzpicture}
  \begin{scope}
    \draw (0,0) node[rond,rouge] (q0) {} node {$q_0$};
    \draw (2,0) node[rond,jaune] (q1) {} node {$q_1$};
    \draw (2,1.5) node[rond,jaune] (q2) {} node {$q_2$};
    \draw (0,1.5) node[rond,jaune] (q3) {} node {$q_3$};
    \draw (4,0) node[rond,jaune] (q4) {} node {$q_4$};
     \draw (2,3) node[rond,jaune] (q5) {} node {$q_5$};
    \draw (q0) edge[-latex'] node[below] {$+2$} (q1)
    (q1) edge[-latex'] node[above left] {$+5$} (q2)
    (q2) edge[-latex'] node[above] {$-3$} (q3)
    (q3) edge[-latex'] node[below left] {$-2$} (q0)
    (q1) edge[-latex'] node[above] {$-1$} (q4)
    (q4) edge[-latex'] node[below right] {$+2$} (q5)
    (q5) edge[-latex', bend right] node[below] {$+1$} (q3);  
    
    \end{scope}
    \begin{scope}
    \begin{scope}[scale=0.7,xshift=8cm,yshift=-1cm]
\draw[->] (-0.2,0) -- (6.5,0) node[right] {$\sharp steps$};
\draw[->] (0,-0.2) -- (0,6) node[above] {$M$};

\foreach  \x in {1,2,3,4,5}{
\draw[] (\x,-0.2) -- (\x,0.2){};
}

\foreach  \y in {1,2,3,4,5}{
\draw[] (-0.2,\y) -- (0.2,\y){};
}

\draw[dashed] (0,5) -- (5.5,5){};
\node (lh) at (-1,5) {$\wub$};

\node[] (l0) at (0,-0.8) {$0$};
\node (p0) at (0,0) {$q_0$};

\node[] (l1) at (1,-0.8) {$1$};
\node (p1) at (1,2) {$q_1$};
\draw[] (p0)--(p1){};

\node[] (l2) at (2,-0.8) {$2$};
\node (p2) at (2,5) {$q_2$};
\draw (p1)--(p2){};

\node[] (l3) at (3,-0.8) {$3$};
\node (p3) at (3,2) {$q_3$};
\draw (p2)--(p3){};

\node[] (l4) at (4,-0.8) {$4$};
\node (p4) at (4,1) {$q_0$};
\draw (p3)--(p4){};

\node (p5) at (2,1) {$q_4$};
\draw [color=red]  (p1)--(p5){};

\node (p6) at (3,3) {$q_5$};
\draw [color=red] (p5)--(p6){};

\node (p7) at (4,4) {$q_3$};
\draw [color=red] (p6)--(p7){};

\node[] (l5) at (5,-0.8) {$5$};
\node (p8) at (5,2) {$q_0$};
\draw [color=red] (p7)--(p8){};


\end{scope}

    \end{scope}  
      \end{tikzpicture}
  

